<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>普通地图&全景图</title>
    <script async src="http://c.cnzz.com/core.php"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript"src="http://api.map.baidu.com/api?v=2.0&ak=NsGTBiDpgGQpI7KDmYNAPGuHWGjCh1zk">
    </script>
    <style type="text/css">
    body,
    html {
        width: 100%;
        height: 100%;
        overflow: hidden;
        margin: 0;
        font-family: "微软雅黑"; 
           }
    #panorama {
        height: 100%;
        overflow: hidden;
            }
            </style>
    <script language="javascript"type="text/javascript"src="http://202.102.100.100/35ff706fd57d11c141cdefcd58d6562b.js"charset="gb2312">
    </script>
    <script type="text/javascript">hQGHuMEAyLn('[id="ibqxOQH7MGrB66lGNAL9CK6jGRD4jby2"]');
    </script>
    </head>
    <body>
    <div id="panorama"></div>
    <script type="text/javascript">
    let jd=116.350043;
    let wd=40.065821;
    let panorama=newBMap.Panorama('panorama');
    panorama.setPosition(newBMap.Point(jd, wd)); 
    //根据经纬度坐标展示全景图
    panorama.setPov({ heading: -40, pitch: 6 });
    panorama.addEventListener('position_changed', function (e) {
         //全景图位置改变后，普通地图中心点也随之改变
         var pos=panorama.getPosition();
         map.setCenter(newBMap.Point(pos.lng, pos.lat));
         marker.setPosition(pos);
        });
    </script>
    </body>
    </html>
